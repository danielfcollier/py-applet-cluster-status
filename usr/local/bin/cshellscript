#!/bin/bash

#The script creates datasets for learning curves. 

for f in $*   					# pega cada argumento(um arff file) dentro da string.
    						#($*): trata todos os parâmetros como uma única string
do 
    run=1                        
    while [ "$run" -lt "30" ]       		#cria 30 diretórios
    do 
	mkdir $run >& /dev/null	
	java weka.filters.supervised.instance.StratifiedRemoveFolds -N 4 -F 1 -S $run -c last -i $WEKAHOME/data/$f -o $run/t_$f
	java weka.filters.supervised.instance.StratifiedRemoveFolds -N 4 -F 1 -S $run -V -c last -i $WEKAHOME/data/$f -o $run/t0$f
	for nr in 1 2 3 4 5 6 
	do 
	    java weka.filters.unsupervised.instance.Resample -S 0 -Z 83 -c last -i $run/t$((nr-1))$f -o $run/t$nr$f
	done
	echo "run¨ $run " $f "done."
	let "run=$run+1"
    done
done

#mundacas nos filtros:
#weka.filters.Resample nao existe na minha package foi divida em duas possibilidades 
#--weka.filters.supervised.instance.Resample
#--weka.filters.unsupervised.instance.Resample

#weka.filters.SplitDatasetFilter tb nao existe aqui. Encontrei tres possibolidades:
#--weka.filters.supervised.instance.StratifiedRemoveFolds
#--weka.filters.unsupervised.instance.RemoveFolds
#--weka.filters.unsupervised.attribute.Remove
